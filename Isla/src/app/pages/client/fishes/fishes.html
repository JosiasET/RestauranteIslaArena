<!-- ENCABEZADO PROFESIONAL -->
<div class="encabezado-profesional">
  <div class="contenedor-profesional">
    <!-- Texto principal -->
    <div class="texto-profesional">
      <h1 class="titulo-elegante">
        <span class="linea-1">Especiales del mar</span>
        <span class="linea-2">directo del oc√©ano</span>
        <span class="linea-3">a tu mesa</span>
      </h1>
      <p class="descripcion-elegante">
        En Isla Arena, capturamos la esencia del oc√©ano. Pescados y mariscos frescos, preparados con la tradici√≥n que merecen.
      </p>
    </div>
    
    <!-- Imagen -->
    <div class="imagen-profesional">
      <img src="/img/Fondo33.png" alt="Especialidades del mar" class="img-elegante">
    </div>
  </div>
</div>

<!-- Subt√≠tulo separado -->
<div class="seccion-bebidas">
  <h2 class="titulo-bebidas">NUESTRAS ESPECIALES DEL MAR</h2>
</div>

<!-- SECCI√ìN DE RECOMENDACIONES DEL D√çA -->
<div *ngIf="recomendacionesDelDia.length > 0 && !loading" class="recomendaciones-section">
  <h2 class="recomendaciones-titulo">üêü ¬°ESPECIALIDADES RECOMENDADAS!</h2>
  <div class="recomendaciones-grid">
    <div *ngFor="let producto of recomendacionesDelDia" class="recomendacion-card">
      <div class="recomendacion-img">
        <img 
          [src]="producto.imagen" 
          alt="{{producto.nombre}}"
          (error)="producto.imagen = 'assets/default-food.jpg'"
        >
      </div>
      <div class="recomendacion-info">
        <h3>{{ producto.nombre }}</h3>
        
        <!-- Solo precio base -->
        <strong class="precio">{{ producto.precio | currency }}</strong>

        <!-- Badge si tiene opciones -->
        <div *ngIf="producto.tipos || producto.tamanos" class="tiene-opciones-badge">
          ‚öôÔ∏è Opciones disponibles
        </div>

        <button class="btn-recomendacion" (click)="agregarAlCarrito(producto)">
          ¬°PROBAR!
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ESTADO DE CARGA -->
<div *ngIf="loading" class="loading-container">
  <div class="spinner"></div>
  <p>Cargando nuestras especialidades del mar...</p>
</div>

<!-- CONTENIDO PRINCIPAL - TODO EL MEN√ö -->
<div *ngIf="!loading" class="menu-container">
  
  <!-- MENSAJE SI NO HAY PRODUCTOS -->
  <div *ngIf="productosFiltrados.length === 0" class="no-platillos">
    <h3>¬°Pr√≥ximamente!</h3>
    <p>Estamos preparando nuevas delicias marinas</p>
  </div>

  <!-- LISTA DE PRODUCTOS -->
  <div *ngFor="let producto of productosFiltrados" class="platillo-card">
    
    <!-- Imagen -->
    <div class="platillo-img">
      <img 
        [src]="producto.imagen" 
        alt="{{producto.nombre}}"
        (error)="producto.imagen = 'assets/default-food.jpg'"
      >
    </div>

    <!-- Info -->
    <div class="platillo-info">
      <h3>{{ producto.nombre }}</h3>
      
      <!-- Badge de stock -->
      <div class="stock-badge" [class.stock-bajo]="producto.cantidad <= 1">
        {{ producto.cantidad <= 1 ? 'üü° Poco stock' : 'üü¢ Disponible' }}
      </div>
      
      <strong class="precio">{{ producto.precio | currency }}</strong>
      <button class="btn-agregar" (click)="agregarAlCarrito(producto)"
              [disabled]="producto.cantidad === 0">
        {{ producto.cantidad === 0 ? '‚ùå Agotado' : '¬°ORDENAR!' }}
      </button>
    </div>
  </div>
</div>

<!-- ... (contenido anterior) ... -->

<!-- VENTANA FLOTANTE REDISE√ëADA -->
<div *ngIf="mostrarModal && productoSeleccionado" class="modal-overlay" (click)="cerrarModal()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    
    <!-- HEADER -->
    <div class="modal-header">
      <h3>{{ productoSeleccionado.nombre }}</h3>
      <button class="btn-cerrar" (click)="cerrarModal()">√ó</button>
    </div>

    <!-- CONTENIDO PRINCIPAL -->
    <div class="modal-content">
      
      <!-- SECCI√ìN IZQUIERDA - IMAGEN -->
      <div class="modal-imagen-section">
        <div class="imagen-container">
          <img [src]="productoSeleccionado.imagen" 
               [alt]="productoSeleccionado.nombre" 
               class="imagen-producto"
               (error)="productoSeleccionado.imagen = 'assets/default-food.jpg'">
        </div>
      </div>

      <!-- SECCI√ìN DERECHA - OPCIONES -->
      <div class="modal-opciones-section">
        <div class="opciones-content">
          
          <!-- DESCRIPCI√ìN -->
          <div class="descripcion-producto">
            <p>{{ productoSeleccionado.descripcion_real || productoSeleccionado.descripcion }}</p>
          </div>

          <!-- SELECTOR DE TAMA√ëOS -->
          <div class="selector-tamanos" *ngIf="productoSeleccionado.tiene_tamanos && productoSeleccionado.tamanos">
            <h4>Selecciona el tama√±o:</h4>
            
            <div class="tamanos-grid">
              <button *ngFor="let tamano of productoSeleccionado.tamanos" 
                      class="btn-tamano"
                      [class.selected]="tamanoSeleccionado?.nombre === tamano.nombre"
                      (click)="seleccionarTamano(tamano)">
                <span class="tamano-nombre">{{ tamano.nombre }}</span>
                <span class="tamano-precio">{{ tamano.precio | currency }}</span>
              </button>
            </div>
          </div>

          <!-- SELECTOR DE CANTIDAD -->
          <div class="selector-cantidad">
            <div class="cantidad-info">
              <h5>Cantidad:</h5>
              <div class="cantidad-detalle">
                {{ getTotalKg() }} kg total
              </div>
            </div>
            <div class="contador-cantidad">
              <button class="btn-cantidad" 
                      (click)="decrementarCantidad()"
                      [disabled]="cantidadSeleccionada <= 1">-</button>
              <span class="cantidad-valor">{{ cantidadSeleccionada }}</span>
              <button class="btn-cantidad" 
                      (click)="incrementarCantidad()"
                      [disabled]="!puedeIncrementar()">+</button>
            </div>
          </div>

          <!-- RESUMEN DEL PEDIDO -->
          <div class="resumen-pedido">
            <h4>Resumen del Pedido</h4>
            <div class="resumen-detalle">
              <div class="resumen-linea">
                <span>Cantidad:</span>
                <span>{{ cantidadSeleccionada }} unidad(es)</span>
              </div>
              <div class="resumen-linea">
                <span>Total kg:</span>
                <span>{{ getTotalKg() }} kg</span>
              </div>
              <div class="resumen-total">
                <span>Total a pagar:</span>
                <span>{{ getPrecioTotal() | currency }}</span>
              </div>
            </div>
          </div>

        </div>
      </div>

    </div>

    <!-- FOOTER -->
    <div class="modal-footer">
      <button class="btn-cancelar" (click)="cerrarModal()">Cancelar</button>
      <button class="btn-confirmar" 
              (click)="agregarAlCarritoSimplificado()"
              [disabled]="!tamanoSeleccionado && productoSeleccionado.tiene_tamanos">
        Agregar al carrito - {{ getPrecioTotal() | currency }}
      </button>
    </div>
    
  </div>
</div>