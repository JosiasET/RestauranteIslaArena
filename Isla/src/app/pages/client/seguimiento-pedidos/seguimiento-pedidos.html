<div class="seguimiento-container">
  <h2>ğŸ“¦ Seguimiento de Pedido</h2>
  
  <div class="search-section">
    <input 
      type="text" 
      [(ngModel)]="trackingCode"
      placeholder="Ingresa tu cÃ³digo de seguimiento (ej: MS-ABC123)"
      class="search-input"
      (keyup.enter)="searchOrder()"
    >
    <button (click)="searchOrder()" [disabled]="loading" class="search-btn">
      {{ loading ? 'ğŸ” Buscando...' : 'ğŸ” Buscar Pedido' }}
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Buscando tu pedido...</p>
  </div>

  <!-- Error Message -->
  <div *ngIf="error && !loading" class="error-message">
    âŒ {{ error }}
  </div>

  <!-- Order Details -->
  <div *ngIf="order && !loading" class="order-details">
    <h3>âœ… Pedido Encontrado</h3>
    <div class="order-info">
  <p><strong>ğŸ“‹ CÃ³digo:</strong> {{ order.tracking_code }}</p>
  <p><strong>ğŸ‘¤ Cliente:</strong> {{ order.customer_name }}</p>
  <p><strong>ğŸ“ TelÃ©fono:</strong> {{ order.customer_phone }}</p>
  <p><strong>ğŸ’³ MÃ©todo de pago:</strong> {{ getPaymentMethodText(order.payment_method || '') }}</p>
  <p><strong>âœ… Estado pago:</strong> 
  <span [class]="order.payment_verified ? 'status-verificado' : 'status-pendiente'">
    {{ order.payment_verified ? 'âœ… Verificado' : 'â³ Pendiente' }}
  </span>
</p>
  <p><strong>ğŸ“¦ Estado pedido:</strong> 
    <span [class]="'status-' + order.status" class="status-badge">
      {{ getStatusText(order.status) }}
    </span>
  </p>
  <p><strong>ğŸ“… Fecha:</strong> {{ order.order_date | date:'medium' }}</p>
  <p><strong>ğŸ’° Total:</strong> ${{ order.total_amount }}</p>
</div>

    <!-- Status Timeline -->
    <div class="status-timeline">
      <div [class]="getStatusClass('pedido_recibido')">
        <span class="status-dot"></span>
        <span class="status-text">Pedido Recibido</span>
      </div>
      <div [class]="getStatusClass('pago_verificado')">
        <span class="status-dot"></span>
        <span class="status-text">Pago Verificado</span>
      </div>
      <div [class]="getStatusClass('en_preparacion')">
        <span class="status-dot"></span>
        <span class="status-text">En PreparaciÃ³n</span>
      </div>
      <div [class]="getStatusClass('en_camino')">
        <span class="status-dot"></span>
        <span class="status-text">En Camino</span>
      </div>
      <div [class]="getStatusClass('entregado')">
        <span class="status-dot"></span>
        <span class="status-text">Entregado</span>
      </div>
    </div>
  </div>
</div>