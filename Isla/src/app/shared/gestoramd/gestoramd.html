<div class="admin-container">
  <div class="mobile-overlay" [class.active]="mobileMenuOpen && isMobile" (click)="mobileMenuOpen = false"></div>
  <div class="admin-layout">
    <!-- Panel lateral -->
    <div class="admin-sidebar" [class.mobile-open]="mobileMenuOpen && isMobile">
      <div class="sidebar-header">
        <!-- LOGO COMO BOTÃ“N -->
        <div class="logo" (click)="irAlGestorPrincipal()" style="cursor: pointer;">
          <i class="waves">ğŸŒŠ</i>
          <h3 class="letra">Gestor</h3>
        </div>
        <div class="user-info">
          <div class="avatar">U</div>
          <div class="user-details">
            <span class="username">Usuario Admin</span>
            <span class="role">Administrador</span>
          </div>
        </div>
      </div>
        
      <nav class="sidebar-nav">

        <a routerLink="upresumen" routerLinkActive="active">
          <div class="nav-icon">ğŸ“Š</div>
          <span class="nav-text">Resumen</span>
        </a>
        <a routerLink="upsales" routerLinkActive="active">
          <div class="nav-icon">ğŸ’°</div>
          <span class="nav-text">Realizar Orden</span>
        </a>
        <a routerLink="updrink" routerLinkActive="active">
          <div class="nav-icon">ğŸ¥¤</div>
          <span class="nav-text">Subir Bebidas</span>
        </a>
        <a routerLink="upfood" routerLinkActive="active">
          <div class="nav-icon">ğŸ½ï¸</div>
          <span class="nav-text">Subir Platillos</span>
        </a>
        <a routerLink="upfish" routerLinkActive="active">
          <div class="nav-icon">ğŸŸ</div>
          <span class="nav-text">Especiales del Mar</span>
        </a>
        <a routerLink="celebrae" routerLinkActive="active">
          <div class="nav-icon">ğŸ‰</div>
          <span class="nav-text">Festeja</span>
        </a>
        <a routerLink="cwaiter" routerLinkActive="active">
          <div class="nav-icon">ğŸ‘¨â€ğŸ’¼</div>
          <span class="nav-text">Crear Mesero</span>
        </a>

        <a routerLink="edit-home" routerLinkActive="active">
          <div class="nav-icon">ğŸ¦</div>
          <span class="nav-text">Editar Home</span>
        </a>

        <a routerLink="tracking" routerLinkActive="active">
          <div class="nav-icon">ğŸ“¦</div>
          <span class="nav-text">Seguimiento de Pedidos</span>
        </a>

        <!-- En el sidebar-nav, agregar este enlace despuÃ©s de los demÃ¡s: -->
        <a routerLink="upstock" routerLinkActive="active">
          <div class="nav-icon">ğŸ“¦</div>
          <span class="nav-text">GestiÃ³n de Stock</span>

        </a>

        <div class="logout-nav-item" (click)="cerrarSesion()">
          <div class="nav-icon">ğŸšª</div>
          <span class="nav-text">Cerrar SesiÃ³n</span>
        </div>
        
      </nav>


      <div class="sidebar-footer">
        <div class="logout-btn" (click)="cerrarSesion()">
          <div class="nav-icon">ğŸšª</div>
          <span class="nav-text">Cerrar SesiÃ³n</span>
        </div>
      </div>
    </div>

    <!-- Contenido principal -->
    <div class="admin-content">
      <header class="content-header">
        <div class="header-left">
          <button class="mobile-menu-btn" (click)="toggleMobileMenu()">â˜°</button>
          <h1>Panel de AdministraciÃ³n</h1>
          <p>Gestiona tu restaurante de manera eficiente</p>
        </div>
        <div class="header-right">
          <div class="search-box">
            <input type="text" placeholder="Buscar...">
            <i>ğŸ”</i>
          </div>
          <div class="notifications">
            <i>ğŸ””</i>
            <span class="notification-badge">3</span>
          </div>
        </div>
      </header>

      <main class="content-main">
        <!-- Router outlet para componentes hijos -->
        <router-outlet></router-outlet>
        
        <!-- DASHBOARD PRINCIPAL - Se muestra solo cuando no hay ruta hija activa -->
        <div *ngIf="mostrarDashboardPrincipal()" class="dashboard-container">
          
          <!-- ESTADÃSTICAS PRINCIPALES -->
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon total-ventas">ğŸ’°</div>
              <div class="stat-info">
                <h3>Total Ventas Hoy</h3>
                <span class="stat-number">$2,450</span>
                <span class="stat-trend positive">+12% vs ayer</span>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon total-pedidos">ğŸ“¦</div>
              <div class="stat-info">
                <h3>Pedidos Activos</h3>
                <span class="stat-number">18</span>
                <span class="stat-trend positive">+3 nuevos</span>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon total-productos">ğŸ½ï¸</div>
              <div class="stat-info">
                <h3>Productos Activos</h3>
                <span class="stat-number">45</span>
                <span class="stat-trend">+2 esta semana</span>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon total-reservas">ğŸ‰</div>
              <div class="stat-info">
                <h3>Reservas Hoy</h3>
                <span class="stat-number">8</span>
                <span class="stat-trend positive">+2 cumpleaÃ±os</span>
              </div>
            </div>
          </div>

          <!-- ACCESOS RÃPIDOS -->
          <div class="quick-actions-section">
            <h2>Accesos RÃ¡pidos</h2>
            <div class="quick-actions-grid">
              <div class="quick-action-card" (click)="navegarA('upfood')">
                <div class="action-icon">ğŸ½ï¸</div>
                <h4>Gestionar Platillos</h4>
                <p>Agregar, editar o eliminar platillos</p>
                <span class="action-badge">{{contadores.platillos}} activos</span>
              </div>

              <div class="quick-action-card" (click)="navegarA('updrink')">
                <div class="action-icon">ğŸ¥¤</div>
                <h4>Gestionar Bebidas</h4>
                <p>Administrar menÃº de bebidas</p>
                <span class="action-badge">{{contadores.bebidas}} activas</span>
              </div>

              <div class="quick-action-card" (click)="navegarA('upfish')">
                <div class="action-icon">ğŸŸ</div>
                <h4>Especiales del Mar</h4>
                <p>Gestionar especialidades</p>
                <span class="action-badge">{{contadores.especialidades}} activas</span>
              </div>

              <div class="quick-action-card" (click)="navegarA('celebrae')">
                <div class="action-icon">ğŸ‰</div>
                <h4>Ver Reservas</h4>
                <p>Gestionar festejos y cumpleaÃ±os</p>
                <span class="action-badge">{{contadores.reservas}} pendientes</span>
              </div>

              <div class="quick-action-card" (click)="navegarA('cwaiter')">
                <div class="action-icon">ğŸ‘¨â€ğŸ’¼</div>
                <h4>Personal</h4>
                <p>Administrar meseros y cajeros</p>
                <span class="action-badge">{{contadores.meseros}} activos</span>
              </div>

              <div class="quick-action-card" (click)="navegarA('upsales')">
                <div class="action-icon">ğŸ’°</div>
                <h4>Ventas en Tiempo Real</h4>
                <p>Monitorear ventas activas</p>
                <span class="action-badge">{{contadores.ventas}} hoy</span>
              </div>
            </div>

            <!-- En quick-actions-grid, agregar esta tarjeta: -->
            <div class="quick-action-card" (click)="navegarA('upstock')">
              <div class="action-icon">ğŸ“¦</div>
              <h4>GestiÃ³n de Stock</h4>
              <p>Administrar inventario de productos</p>
              <span class="action-badge">{{contadores.stock}} productos</span>
            </div>
          </div>

          <!-- ACTIVIDAD RECIENTE -->
          <div class="recent-activity-section">
            <h2>Actividad Reciente</h2>
            <div class="activity-list">
              <div class="activity-item">
                <div class="activity-icon success">âœ…</div>
                <div class="activity-content">
                  <p><strong>Nuevo platillo agregado</strong> - Ceviche Mixto</p>
                  <span class="activity-time">Hace 5 minutos</span>
                </div>
              </div>

              <div class="activity-item">
                <div class="activity-icon warning">âš ï¸</div>
                <div class="activity-content">
                  <p><strong>Stock bajo</strong> - Margaritas se estÃ¡n agotando</p>
                  <span class="activity-time">Hace 15 minutos</span>
                </div>
              </div>

              <div class="activity-item">
                <div class="activity-icon info">ğŸ‰</div>
                <div class="activity-content">
                  <p><strong>Nueva reserva</strong> - CumpleaÃ±os de MarÃ­a GonzÃ¡lez</p>
                  <span class="activity-time">Hace 30 minutos</span>
                </div>
              </div>

              <div class="activity-item">
                <div class="activity-icon success">ğŸ’°</div>
                <div class="activity-content">
                  <p><strong>Venta exitosa</strong> - Mesa #4 - $450</p>
                  <span class="activity-time">Hace 1 hora</span>
                </div>
              </div>
            </div>
          </div>

        </div>
      </main>
    </div>
  </div>
</div>