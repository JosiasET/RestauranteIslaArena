<div class="Subir_p">
  <h2 class="Subtitulo">{{ esModoEdicion ? 'EDITAR MESERO' : 'CREAR MESERO' }}</h2>

  <div class="form-bar">
    <input type="text" [(ngModel)]="nombre" placeholder="Nombre" class="form-input">
    <input type="text" [(ngModel)]="apellido" placeholder="Apellido" class="form-input">
    <input type="text" [(ngModel)]="usuario" placeholder="Nombre de usuario" class="form-input">
    
    <div class="password-container">
      <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="contrasena" placeholder="Contraseña" class="form-input">
      <button type="button" class="password-toggle-btn" (click)="togglePasswordVisibility()">
        {{ showPassword ? '🙈' : '👁️' }}
      </button>
    </div>
    
    <select [(ngModel)]="turno" class="form-input">
      <option value="" disabled>Seleccionar turno</option>
      <option value="matutino">🌅 Matutino</option>
      <option value="vespertino">🌇 Vespertino</option>
      <option value="completo">🌞 Completo</option>
    </select>

    <div class="action-buttons">
      <button (click)="crearMesero()" class="submit-btn">
        {{ esModoEdicion ? 'Actualizar Mesero' : 'Crear Mesero' }}
      </button>
      <button *ngIf="esModoEdicion" (click)="cancelarEdicion()" class="cancel-btn">
        Cancelar
      </button>
    </div>
  </div>

  <div *ngIf="meseros.length > 0" class="tabla-platillos">
    <h3 class="sub_3">Meseros Registrados</h3>
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Usuario</th>
          <th>Turno</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let mesero of meseros">
          <td class="nombre-cell">{{ mesero.nombre }} {{ mesero.apellido }}</td>
          <td class="usuario-cell">{{ mesero.usuario }}</td>
          <td class="turno-cell">
            <span [class]="'badge-' + mesero.turno">{{ getTurnoText(mesero.turno) }}</span>
          </td>
          <td class="estado-cell">
            <span [class]="'badge-' + (mesero.activo ? 'activo' : 'inactivo')">
              {{ mesero.activo ? 'Activo' : 'Inactivo' }}
            </span>
          </td>
          <td class="acciones-cell">
            <button (click)="editarMesero(mesero)" class="btn-editar">✏️ Editar</button>
            <button (click)="toggleEstado(mesero)" class="btn-estado">
              {{ mesero.activo ? '🚫 Desactivar' : '✅ Activar' }}
            </button>
            <button (click)="eliminarMesero(mesero)" class="btn-eliminar">🗑️ Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="meseros.length === 0" class="empty-state">
    <div class="empty-icon">👨‍💼</div>
    <h3>No hay meseros registrados</h3>
    <p>Comienza agregando tu primer mesero usando el formulario superior.</p>
  </div>
</div>